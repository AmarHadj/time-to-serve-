[gd_scene load_steps=25 format=4 uid="uid://bv01a43lr4wf6"]

[ext_resource type="Texture2D" uid="uid://cd5s03p1cfwam" path="res://assets/art/floor tiles.png" id="1_44yp8"]
[ext_resource type="Script" path="res://Scripts/level.gd" id="1_gvmx7"]
[ext_resource type="PackedScene" uid="uid://1pk3bwf6hekc" path="res://assets/Characters/Player.tscn" id="2_nsvb8"]
[ext_resource type="PackedScene" uid="uid://d1o8bil4kvckv" path="res://assets/Characters/Chef.tscn" id="3_ni7sj"]
[ext_resource type="PackedScene" uid="uid://bcllb7k4c5nu3" path="res://assets/furnitures/Table.tscn" id="4_weihc"]
[ext_resource type="PackedScene" uid="uid://cp8hxnt212nhx" path="res://assets/dialogue.tscn" id="5_c27av"]
[ext_resource type="PackedScene" uid="uid://qq0o7gdppe4x" path="res://assets/furnitures/MealDrop.tscn" id="8_d3w7u"]
[ext_resource type="Texture2D" uid="uid://bnmc0er3s6fue" path="res://assets/art/Tiles/Kitchen_tiles.png" id="8_vmb6y"]
[ext_resource type="PackedScene" uid="uid://crtfriv8iqw3s" path="res://assets/furnitures/Meal.tscn" id="9_8t3ya"]
[ext_resource type="Texture2D" uid="uid://psjaxmfntdrw" path="res://assets/art/Tiles/Kitchen_wall_tiles.png" id="10_eiyg4"]
[ext_resource type="Texture2D" uid="uid://jj1crqxqkfyy" path="res://assets/art/Tiles/wall.png" id="10_nbv3s"]
[ext_resource type="PackedScene" uid="uid://cvk84paoj05av" path="res://assets/Characters/Boss.tscn" id="10_rrwrw"]
[ext_resource type="Texture2D" uid="uid://biiax8avg4um7" path="res://assets/art/Other/final.png" id="11_yqewc"]
[ext_resource type="Texture2D" uid="uid://7q0q2fw57f40" path="res://assets/art/furnitures/yellow_chair.png" id="13_6hldu"]
[ext_resource type="AudioStream" uid="uid://dnethyh5c37ov" path="res://assets/sound/sound effect/bell-98033.mp3" id="13_ts8dv"]
[ext_resource type="Texture2D" uid="uid://ipgximkr6cvi" path="res://assets/art/furnitures/Orange_chair.png" id="14_eyxwf"]
[ext_resource type="AudioStream" uid="uid://dhtye2gmbnwor" path="res://assets/sound/music/Musique_resto_2(menu).mp3" id="16_hf2wd"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_sikcp"]
texture = ExtResource("8_vmb6y")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_51c0t"]
texture = ExtResource("1_44yp8")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_riieg"]
tile_size = Vector2i(64, 64)
sources/1 = SubResource("TileSetAtlasSource_51c0t")
sources/0 = SubResource("TileSetAtlasSource_sikcp")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_legcv"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ntf63"]
texture = ExtResource("10_eiyg4")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2t5rq"]
texture = ExtResource("10_nbv3s")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_uk2p1"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 2
physics_layer_0/physics_material = SubResource("PhysicsMaterial_legcv")
terrain_set_0/mode = 0
sources/1 = SubResource("TileSetAtlasSource_ntf63")
sources/3 = SubResource("TileSetAtlasSource_2t5rq")

[node name="TestLevel" type="Node2D"]
script = ExtResource("1_gvmx7")

[node name="Meal3" parent="." instance=ExtResource("9_8t3ya")]
z_index = 1
position = Vector2(810, 69)
is_tv = true

[node name="Boss" parent="." instance=ExtResource("10_rrwrw")]
position = Vector2(1190, 321)

[node name="Player" parent="." instance=ExtResource("2_nsvb8")]
z_index = 1
position = Vector2(1190, 492)

[node name="Chef" parent="." instance=ExtResource("3_ni7sj")]
position = Vector2(132, 309)

[node name="dialogue_player" parent="." instance=ExtResource("5_c27av")]
scene_text_file = "res://assets/json/test.json"

[node name="TimerClient1" type="Timer" parent="."]
one_shot = true

[node name="TimerBoss" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="tiles" type="Node" parent="."]

[node name="ground" type="TileMapLayer" parent="tiles"]
z_index = -1
tile_map_data = PackedByteArray("AAACAAIAAAAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAQAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAQAAAAAAAAACAAgAAQAAAAAAAAACAAkAAQAAAAAAAAACAAoAAQAAAAAAAAADAAMAAQAAAAAAAAADAAQAAQAAAAAAAAADAAUAAQAAAAAAAAADAAYAAQAAAAAAAAADAAcAAQAAAAAAAAADAAgAAQAAAAAAAAADAAkAAQAAAAAAAAADAAoAAQAAAAAAAAAEAAMAAQAAAAAAAAAEAAQAAQAAAAAAAAAEAAUAAQAAAAAAAAAEAAYAAQAAAAAAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAAAAAAEAAkAAQAAAAAAAAAEAAoAAQAAAAAAAAAFAAIAAQAAAAAAAAAFAAMAAQAAAAAAAAAFAAQAAQAAAAAAAAAFAAUAAQAAAAAAAAAFAAYAAQAAAAAAAAAFAAcAAQAAAAAAAAAFAAgAAQAAAAAAAAAFAAkAAQAAAAAAAAAFAAoAAQAAAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQAAAAAAAAAGAAQAAQAAAAAAAAAGAAUAAQAAAAAAAAAGAAYAAQAAAAAAAAAGAAcAAQAAAAAAAAAGAAgAAQAAAAAAAAAGAAkAAQAAAAAAAAAGAAoAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAMAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAHAAgAAQAAAAAAAAAHAAkAAQAAAAAAAAAHAAoAAQAAAAAAAAAIAAIAAQAAAAAAAAAIAAMAAQAAAAAAAAAIAAQAAQAAAAAAAAAIAAUAAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAcAAQAAAAAAAAAIAAgAAQAAAAAAAAAIAAkAAQAAAAAAAAAIAAoAAQAAAAAAAAAJAAIAAQAAAAAAAAAJAAMAAQAAAAAAAAAJAAQAAQAAAAAAAAAJAAUAAQAAAAAAAAAJAAYAAQAAAAAAAAAJAAcAAQAAAAAAAAAJAAgAAQAAAAAAAAAJAAkAAQAAAAAAAAAJAAoAAQAAAAAAAAAKAAIAAQAAAAAAAAAKAAMAAQAAAAAAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAKAAYAAQAAAAAAAAAKAAcAAQAAAAAAAAAKAAgAAQAAAAAAAAAKAAkAAQAAAAAAAAAKAAoAAQAAAAAAAAALAAIAAQAAAAAAAAALAAMAAQAAAAAAAAALAAQAAQAAAAAAAAALAAUAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAAAAAAAAALAAgAAQAAAAAAAAALAAkAAQAAAAAAAAALAAoAAQAAAAAAAAAMAAIAAQAAAAAAAAAMAAMAAQAAAAAAAAAMAAQAAQAAAAAAAAAMAAUAAQAAAAAAAAAMAAYAAQAAAAAAAAAMAAcAAQAAAAAAAAAMAAgAAQAAAAAAAAAMAAkAAQAAAAAAAAAMAAoAAQAAAAAAAAANAAIAAQAAAAAAAAANAAMAAQAAAAAAAAANAAQAAQAAAAAAAAANAAUAAQAAAAAAAAANAAYAAQAAAAAAAAANAAcAAQAAAAAAAAANAAgAAQAAAAAAAAANAAkAAQAAAAAAAAANAAoAAQAAAAAAAAAOAAIAAQAAAAAAAAAOAAMAAQAAAAAAAAAOAAQAAQAAAAAAAAAOAAUAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAcAAQAAAAAAAAAOAAgAAQAAAAAAAAAOAAkAAQAAAAAAAAAOAAoAAQAAAAAAAAAPAAIAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQAAAAAAAAAPAAgAAQAAAAAAAAAPAAkAAQAAAAAAAAAPAAoAAQAAAAAAAAAQAAIAAQAAAAAAAAAQAAMAAQAAAAAAAAAQAAQAAQAAAAAAAAAQAAUAAQAAAAAAAAAQAAYAAQAAAAAAAAAQAAcAAQAAAAAAAAAQAAkAAQAAAAAAAAAQAAoAAQAAAAAAAAARAAIAAQAAAAAAAAARAAQAAQAAAAAAAAARAAUAAQAAAAAAAAARAAYAAQAAAAAAAAARAAcAAQAAAAAAAAARAAgAAQAAAAAAAAARAAkAAQAAAAAAAAARAAoAAQAAAAAAAAASAAIAAQAAAAAAAAASAAMAAQAAAAAAAAASAAQAAQAAAAAAAAASAAUAAQAAAAAAAAASAAYAAQAAAAAAAAASAAcAAQAAAAAAAAASAAgAAQAAAAAAAAASAAkAAQAAAAAAAAASAAoAAQAAAAAAAAATAAIAAQAAAAAAAAATAAMAAQAAAAAAAAATAAQAAQAAAAAAAAATAAUAAQAAAAAAAAATAAYAAQAAAAAAAAATAAcAAQAAAAAAAAATAAgAAQAAAAAAAAATAAkAAQAAAAAAAAATAAoAAQAAAAAAAAACAAsAAQAAAAAAAAADAAsAAQAAAAAAAAAEAAsAAQAAAAAAAAAFAAsAAQAAAAAAAAAGAAsAAQAAAAAAAAAHAAsAAQAAAAAAAAAIAAsAAQAAAAAAAAAJAAsAAQAAAAAAAAAKAAsAAQAAAAAAAAALAAsAAQAAAAAAAAAMAAsAAQAAAAAAAAANAAsAAQAAAAAAAAAOAAsAAQAAAAAAAAAPAAsAAQAAAAAAAAAQAAsAAQAAAAAAAAARAAsAAQAAAAAAAAASAAsAAQAAAAAAAAATAAsAAQAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAQAAAAAAAAABAAgAAQAAAAAAAAABAAkAAQAAAAAAAAABAAoAAQAAAAAAAAABAAsAAQAAAAAAAAABAAEAAQAAAAAAAAACAAEAAQAAAAAAAAADAAEAAQAAAAAAAAAEAAEAAQAAAAAAAAAFAAEAAQAAAAAAAAAGAAEAAQAAAAAAAAAHAAEAAQAAAAAAAAAIAAEAAQAAAAAAAAAJAAEAAQAAAAAAAAAKAAEAAQAAAAAAAAALAAEAAQAAAAAAAAAMAAEAAQAAAAAAAAANAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAAPAAEAAQAAAAAAAAAQAAEAAQAAAAAAAAARAAEAAQAAAAAAAAASAAEAAQAAAAAAAAATAAEAAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAAIAAAAAQAAAAAAAAAJAAAAAQAAAAAAAAAKAAAAAQAAAAAAAAALAAAAAQAAAAAAAAAMAAAAAQAAAAAAAAANAAAAAQAAAAAAAAAOAAAAAQAAAAAAAAAPAAAAAQAAAAAAAAAQAAAAAQAAAAAAAAARAAAAAQAAAAAAAAASAAAAAQAAAAAAAAATAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAAsAAQAAAAAAAAAQAAgAAQAAAAAAAAARAAMAAQAAAAAAAAAUAAgAAQAAAAAAAAAUAAcAAQAAAAAAAAAUAAYAAQAAAAAAAAAUAAQAAQAAAAAAAAAUAAMAAQAAAAAAAAAUAAIAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_riieg")

[node name="walls" type="TileMapLayer" parent="tiles"]
position = Vector2(1, 0)
tile_map_data = PackedByteArray("AAAUAAEAAQAAAAAAAAD//wEAAQAAAAAAAAAAAAEAAQAAAAAAAAABAAEAAQAAAAAAAAACAAEAAQAAAAAAAAADAAEAAQAAAAAAAAAEAAEAAQAAAAAAAAAFAAEAAQAAAAAAAAAGAAEAAQAAAAAAAAAHAAEAAQAAAAAAAAAIAAEAAQAAAAAAAAAJAAEAAQAAAAAAAAAKAAEAAQAAAAAAAAALAAEAAQAAAAAAAAAMAAEAAQAAAAAAAAANAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAAPAAEAAQAAAAAAAAAQAAEAAQAAAAAAAAARAAEAAQAAAAAAAAASAAEAAQAAAAAAAAATAAEAAQAAAAAAAAAUAAsAAQAAAAAAAAAUAAoAAQAAAAAAAAAUAAkAAQAAAAAAAAAUAAUAAQAAAAAAAAAAAAwAAQAAAAAAAAABAAwAAQAAAAAAAAACAAwAAQAAAAAAAAADAAwAAQAAAAAAAAAEAAwAAQAAAAAAAAAFAAwAAQAAAAAAAAAGAAwAAQAAAAAAAAAHAAwAAQAAAAAAAAAIAAwAAQAAAAAAAAAJAAwAAQAAAAAAAAAKAAwAAQAAAAAAAAALAAwAAQAAAAAAAAAMAAwAAQAAAAAAAAANAAwAAQAAAAAAAAAOAAwAAQAAAAAAAAAPAAwAAQAAAAAAAAAQAAwAAQAAAAAAAAARAAwAAQAAAAAAAAASAAwAAQAAAAAAAAATAAwAAQAAAAAAAAAUAAwAAQAAAAAAAAD//wIAAQAAAAAAAAD//wMAAQAAAAAAAAD//wQAAQAAAAAAAAD//wUAAQAAAAAAAAD//wYAAQAAAAAAAAD//wcAAQAAAAAAAAD//wgAAQAAAAAAAAD//wkAAQAAAAAAAAD//woAAQAAAAAAAAD//wsAAQAAAAAAAAD//wwAAQAAAAAAAAD//wAAAwAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAwAAAAAAAAACAAAAAwAAAAAAAAADAAAAAwAAAAAAAAAEAAAAAwAAAAAAAAAFAAAAAwAAAAAAAAAGAAAAAwAAAAAAAAAHAAAAAwAAAAAAAAAIAAAAAwAAAAAAAAAJAAAAAwAAAAAAAAAKAAAAAwAAAAAAAAALAAAAAwAAAAAAAAAMAAAAAwAAAAAAAAANAAAAAwAAAAAAAAAOAAAAAwAAAAAAAAAPAAAAAwAAAAAAAAAQAAAAAwAAAAAAAAARAAAAAwAAAAAAAAASAAAAAwAAAAAAAAATAAAAAwAAAAAAAAAUAAAAAwAAAAAAAAAVAAkAAQAAAAAAAAAVAAgAAQAAAAAAAAAVAAcAAQAAAAAAAAAVAAYAAQAAAAAAAAAVAAUAAQAAAAAAAAAVAAQAAQAAAAAAAAAVAAMAAQAAAAAAAAAVAAIAAQAAAAAAAAAVAAEAAQAAAAAAAAAUAAQAAQAAAAAAAAAUAAMAAQAAAAAAAAAUAAIAAQAAAAAAAAAUAAgAAQAAAAAAAAAUAAcAAQAAAAAAAAAUAAYAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_uk2p1")
use_kinematic_bodies = true

[node name="Meal_drop" type="Marker2D" parent="."]
position = Vector2(224, 290)

[node name="End" type="Sprite2D" parent="."]
visible = false
z_index = 3
position = Vector2(640, 360)
texture = ExtResource("11_yqewc")

[node name="Music" type="AudioStreamPlayer2D" parent="."]
process_mode = 3
stream = ExtResource("16_hf2wd")
volume_db = 24.0
autoplay = true

[node name="Bell" type="AudioStreamPlayer2D" parent="."]
process_mode = 3
stream = ExtResource("13_ts8dv")

[node name="furnitures" type="Node" parent="."]

[node name="Table" parent="furnitures" instance=ExtResource("4_weihc")]
position = Vector2(1113, 207)
has_customer = true

[node name="YellowChair" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(1192, 203)
texture = ExtResource("13_6hldu")

[node name="YellowChair2" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(1036, 203)
texture = ExtResource("13_6hldu")
flip_h = true

[node name="Table4" parent="furnitures" instance=ExtResource("4_weihc")]
position = Vector2(1113, 647)

[node name="OrangeChair5" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(1192, 646)
texture = ExtResource("14_eyxwf")

[node name="OrangeChair6" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(1036, 646)
texture = ExtResource("14_eyxwf")
flip_h = true

[node name="Table5" parent="furnitures" instance=ExtResource("4_weihc")]
position = Vector2(809, 647)

[node name="OrangeChair7" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(888, 646)
texture = ExtResource("14_eyxwf")

[node name="OrangeChair8" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(732, 646)
texture = ExtResource("14_eyxwf")
flip_h = true

[node name="Table6" parent="furnitures" instance=ExtResource("4_weihc")]
position = Vector2(489, 647)

[node name="OrangeChair9" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(568, 646)
texture = ExtResource("14_eyxwf")

[node name="OrangeChair10" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(412, 646)
texture = ExtResource("14_eyxwf")
flip_h = true

[node name="Table7" parent="furnitures" instance=ExtResource("4_weihc")]
position = Vector2(489, 204)

[node name="OrangeChair11" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(568, 203)
texture = ExtResource("14_eyxwf")

[node name="OrangeChair12" type="Sprite2D" parent="furnitures"]
z_index = -1
position = Vector2(412, 203)
texture = ExtResource("14_eyxwf")
flip_h = true

[node name="MealDrop" parent="furnitures" node_paths=PackedStringArray("drop_place") instance=ExtResource("8_d3w7u")]
position = Vector2(208, 269)
drop_place = NodePath("../../Meal_drop")

[connection signal="timeout" from="TimerClient1" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="TimerBoss" to="." method="_on_timer_boss_timeout"]
[connection signal="finished" from="Music" to="." method="_on_audio_stream_player_2d_finished"]
